!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="javascripts/",e(e.s=213)}([,,,,,,,function(t,e,r){"use strict";r.d(e,"f",function(){return n}),r.d(e,"d",function(){return i}),r.d(e,"e",function(){return o}),r.d(e,"b",function(){return a}),r.d(e,"a",function(){return s}),r.d(e,"c",function(){return u});var n=1.001,i=1.25,o=.02,a=150,s=.05,u=.096},,,,,function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(7),i=function(t){var e=window.mlWorld.browserWidth-(n.a+n.a),r=window.innerWidth,i=parseFloat(t)/r;return Math.fround(i*e)}},,function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(12),i=function(t){return{width:Object(n.a)(t.clientWidth),height:Object(n.a)(t.clientHeight),breadth:isNaN(t.breadth)?Object(n.a)(t.clientWidth):Object(n.a)(t.breadth)}}},,,,,,,function(t,e,r){"use strict";r.d(e,"a",function(){return o}),r.d(e,"b",function(){return a}),r.d(e,"c",function(){return s}),r.d(e,"d",function(){return u});var n=r(12),i=r(7),o=function(t){var e=t.getBoundingClientRect();return{positionX:a(e.left+t.clientWidth/2),positionY:s(e.top+t.clientHeight/2),positionZ:u(t.zOffset)}},a=function(t){var e=Object(n.a)(t)+i.a-window.mlWorld.browserWidth/2;return Math.fround(e)},s=function(t){var e=window.mlWorld.browserHeight/2-(Object(n.a)(t)+i.c);return Math.fround(e)},u=function(t){var e=Object(n.a)(t);return Math.fround(e)}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};if(t.split(/;/).forEach(function(t){var e=t.split(":");2===e.length&&("offset"===e[0].trim()?r[e[0].trim()]=e[1].trim().replace(/\r?\n|\r|\t|,/gm," ").replace(/  +/g," ").split(" "):(r[e[0].trim()]=e[1].match(/[+-]?\d+(\.\d+)?/g).map(function(t){return parseFloat(t)}),1===r[e[0].trim()].length&&(r[e[0].trim()]=r[e[0].trim()][0])))}),r.axes&&3===r.axes.length||r.angles&&3===r.angles.length||r.offset&&3===r.offset.length)return isNaN(r.duration)&&(r.duration=1,console.warn("No duration value in animation attribute. Default value of 1 used.")),Number.isInteger(r.track)||(r.track=0,console.warn("No track value in animation attribute. Default value of 0 used.")),e&&isNaN(r.angle)&&(r.angle=360,console.warn("No angle value in spin animation attribute. Default value of 360 degrees used.")),r;console.error("Invalid axis values used for animation attribute.")}},,,,,,,,function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(21),i=r(67),o=r(110),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t._volume){var r=Object(n.a)(t),a=r.positionX,s=r.positionY,u=r.positionZ;t._volume.position={positionX:a,positionY:s,positionZ:u};var c=(new DOMMatrix).translate(a,s,u);if(t.prismRotation&&e){var l=Object(i.a)(t.prismRotation);l&&(c=c.rotateAxisAngle(0,0,1,Object(o.a)(l[2])).rotateAxisAngle(0,1,0,Object(o.a)(l[1])).rotateAxisAngle(1,0,0,Object(o.a)(l[0])))}t._volume.transformVolumeRelativeToHostVolume(c)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){t._volume&&(window.mlWorld.deleteVolume(t._volume),t._volume=void 0,t._model=void 0,t._quad=void 0,t._transform=void 0,t._resource=void 0)}},,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.skipRaycast=e}},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i});var n=(r(31),function(t){t&&t.addEventListener("mousedown",o,!1)}),i=function(t){t&&t.removeEventListener("mousedown",o,!1)},o=function(t){if(6===t.button){t.preventDefault();var e=t.target;if(e._volume&&(e._model||e._quad)){e._originalScale&&e._transform.setLocalScale(new Float32Array([e._originalScale[0],e._originalScale[1],e._originalScale[2]])),e._originalPosition&&e._transform.setLocalPosition(new Float32Array([e._originalPosition[0],e._originalPosition[1],e._originalPosition[2]])),window.mlWorld.update(),e._volume.setSize(e._originalVolumeSize[0],e._originalVolumeSize[1],e._originalVolumeSize[2]);var r=new Event("extracting-node",{bubbles:!0});e.dispatchEvent(r),a(e);var n=new MouseEvent("mouseover",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(n)}}},a=function(t){var e=t._volume.position,r=t.extractedScale?t.extractedScale:1,n=e.positionZ+t._volume.breadth,i=(new DOMMatrix).translate(e.positionX,e.positionY,n),o=void 0;o=t.extractedLink?t.extractedLink:window.location.href,t._volume.extractContent({scale:r,transform:i,doIt:"auto",origin_url:o});var a=new Event("node-extracted",{bubbles:!0});t.dispatchEvent(a)}},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return o});var n=r(7),i=function(t){t.style.cursor="-webkit-grab",t.addEventListener("mouseover",a),t.addEventListener("mouseout",u),t.addEventListener("mousemove",s)},o=function(t){t.style.cursor="auto",t.removeEventListener("mouseover",a),t.removeEventListener("mouseout",u),t.removeEventListener("mousemove",s)},a=function(t){var e=t.target;e._volume&&e._transform&&(e.removeEventListener("mousemove",s),e._volume.triggerTotemHaptic("VIBE_TICK"),e._mouseOutTimeout&&(clearTimeout(e._mouseOutTimeout),e._mouseOutTimeout=null),e._originalVolumeSize||(e._originalVolumeSize=[e._volume.width,e._volume.height,e._volume.breadth]),e._volume.setSize(e._originalVolumeSize[0]*n.d,e._originalVolumeSize[1]*n.d,e._originalVolumeSize[2]*n.d+2*n.e),e._originalScale||(e._originalScale=e._transform.getLocalScale()),e._transform.scaleTo(new Float32Array([e._originalScale[0]*n.d,e._originalScale[1]*n.d,e._originalScale[2]*n.d]),.1,-1),e._originalPosition||(e._originalPosition=e._transform.getLocalPosition()),e._transform.moveBy(new Float32Array([0,0,n.e]),.1,-2))},s=function(t){var e=t.target,r=document.createEvent("MouseEvent");r.initEvent("mouseover",!0,!0),e.dispatchEvent(r)},u=function(t){var e=t.target;e._volume&&e._transform&&(e._volume.triggerTotemHaptic("VIBE_FORCE_DWELL"),e._originalPosition&&e._transform.moveTo(new Float32Array([e._originalPosition[0],e._originalPosition[1],e._originalPosition[2]]),.1,-1),e._originalScale&&e._transform.scaleTo(new Float32Array([e._originalScale[0],e._originalScale[1],e._originalScale[2]]),.1,-2),e._mouseOutTimeout&&clearTimeout(e._mouseOutTimeout),e._mouseOutTimeout=window.setTimeout(function(){e._originalVolumeSize&&e._volume&&(window.mlWorld.update(),e._volume.setSize(e._originalVolumeSize[0],e._originalVolumeSize[1],e._originalVolumeSize[2]))},200))}},function(t,e,r){"use strict";function n(){Object(i.a)(this,!0)}r.d(e,"a",function(){return o}),r.d(e,"b",function(){return a});var i=r(30),o=function(t){t&&(t.scrollListener=n.bind(t),window.addEventListener("scroll",t.scrollListener))},a=function(t){t&&window.removeEventListener("scroll",t.scrollListener)}},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return o});var n=r(31),i=function(t){void 0===t._observer&&(t._observer=new IntersectionObserver(a,{root:null,rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),t._observer.observe(t),t._lastIntersectionRatio=0},o=function(t){t._observer&&(t._observer.unobserve(t),delete t._observer)},a=function(t,e){t.forEach(function(t){var e=t.target;t.intersectionRatio>=.5&&!e._volume&&e.src?e.doRendering().then(function(){if(e._delete)return Object(n.a)(e),void(e._delete=!1);e._rendered=!0,e.scaleScroll&&s(e,e._lastIntersectionRatio),e._volume.visible=!("hidden"===e.visibility)}).catch(function(t){e.dispatchEvent(new ErrorEvent("error",{error:t,message:t.message||"Problem rendering node",bubbles:!0})),console.error("Problem rendering: "+t)}):t.intersectionRatio<.5&&e._volume&&e.scrollable&&(!0===e._rendered?(Object(n.a)(e),delete e._rendered):e._delete=!0),e.scaleScroll&&s(e,t.intersectionRatio),e._lastIntersectionRatio=t.intersectionRatio})},s=function(t,e){if(t.scrollable&&t.scaleScroll&&t._transform)if(t._originalScale||(t._originalScale=t._transform.getLocalScale()),e<1&&e>=.5){var r=Math.abs(1-e/.5);t._transform.scaleTo(new Float32Array([t._originalScale[0]*r,t._originalScale[1]*r,t._originalScale[2]*r]),0,-1)}else e<=.5?t._transform.setLocalScale(new Float32Array([0,0,0])):1===e&&t._transform.scaleTo(new Float32Array([t._originalScale[0],t._originalScale[1],t._originalScale[2]]),0,-1)}},function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n=r(64),i=r(65),o=r(68),a=r(30),s=r(124),u=r(125),c=function(t){Object(n.a)(t)?navigator.permissions.request({name:"ml-unbounded-prisms"}).then(function(e){"granted"==e.state?l(t):"denied"==e.state&&console.error("Permission to render unbounded volume has not been granted")}).catch(function(e){Object(i.a)(t,"Requesting ml-unbounded-prisms is not supported on this device")}):l(t)},l=function(t){Object(o.a)(t),Object(a.a)(t,!0),t._model?Object(s.a)(t):t._quad&&Object(u.a)(t)}},,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(14),i=r(21),o=function(t){var e=Object(i.a)(t),r=e.positionX,o=e.positionY,a=e.positionZ,s=Object(n.a)(t),u=s.width,c=s.height,l=s.breadth;return Math.abs(r)>mlWorld.browserWidth/2||Math.abs(o)>mlWorld.browserHeight/2||Math.abs(a)>Math.max(mlWorld.browserWidth,mlWorld.browserHeight)/2||(u>mlWorld.browserWidth||c>mlWorld.browserHeight||l>Math.max(mlWorld.browserWidth,mlWorld.browserHeight))}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t,e){console.warn(e),t.style.border="solid 2px #ffffff47",t.style.color="#FFF",t.style.color="#FFF",t.style.textTransform="uppercase",t.style.letterSpacing="2px",t.style.fontSize="14px",t.style.padding="2%",t.innerHTML="MR Content"}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t,e){function r(e){return new Promise(function(r,n){var i=new Image;i.onload=function(){r(t.createTexture(i,e))},i.onerror=function(){n(new Error("Problem loading texture "+e+"."))},i.src=e})}return Promise.all(e.map(r))}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e=t.trim().replace(/[^\d.-]+/g," ").split(" ").map(parseFloat).filter(function(t){return!isNaN(t)});if(e&&3===e.length)return e;console.error("Invalid values used for rotation attribute.")}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(7),i=r(14),o=function(t){if(t._volume){var e=Object(i.a)(t),r=e.width,o=e.height,a=e.breadth;t._volume.setSize(r*n.f,o*n.f,a*n.f)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(14),i=function(t){if(t._volume)throw new Error("Volume already exists");var e=Object(n.a)(t),r=e.width,i=e.height,o=e.breadth;if(0===r||0===i||0===o)throw new Error("At least one of the volume's dimension is not specified.  Dimensions are specified using CSS width/height properties");var a=window.mlWorld.createVolume(r,i,o);if(!a)throw new Error("Volume was not created");return a.addEventListener("mlraycast",function(e){if("volume"===e.hitData.type){var r=new CustomEvent("volume-raycast",{bubbles:!0,detail:{type:e.type,hitData:e.hitData}});t.dispatchEvent(r)}else if("quadNode"===e.hitData.type||"modelNode"===e.hitData.type){var r=new CustomEvent("node-raycast",{bubbles:!0,detail:{type:e.type,hitData:e.hitData}});t.dispatchEvent(r)}}),a}},function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n=r(220),i=r(30),o=r(68),a=r(111),s=r(41),u=r(124),c=function(t){return new Promise(function(e,r){Object(n.a)(t,t.getAttribute("src")).then(function(n){if(t._model||(t._model=t._volume.createModel(),"true"!==t.raycast&&Object(s.a)(t._model)),t._resource=n.resource,t._model.setModelResource(t._resource),isNaN(parseFloat(t._resource.width))||!isFinite(t._resource.width))return r(new Error("Load resource failed: "+t.src));var c=new Event("resource-loaded",{bubbles:!0});t.dispatchEvent(c),t._kmat||(t._model.shader=n.shader),t._transform||(t._transform=t._volume.createTransform(),t._transform.addChild(t._model),t._volume.addChild(t._transform)),t._kmat&&t._textures&&(t._model.textures=t._textures,t._model.kmat=t._kmat),Object(o.a)(t),Object(i.a)(t),Object(u.a)(t);var l={visibility:t.getAttribute("visibility"),trigger:t.getAttribute("trigger"),color:t.getAttribute("color"),"model-scale":t.getAttribute("model-scale"),"model-position":t.getAttribute("model-position"),rotation:t.getAttribute("rotation"),"rotate-to-angles":t.getAttribute("rotate-to-angles"),"rotate-by-angles":t.getAttribute("rotate-by-angles"),"model-animation":t.getAttribute("model-animation"),spin:t.getAttribute("spin"),"scale-to":t.getAttribute("scale-to"),"move-to":t.getAttribute("move-to"),"move-by":t.getAttribute("move-by"),"prism-rotation":t.getAttribute("prism-rotation"),"environment-lighting":t.getAttribute("environment-lighting")};Object(a.a)(t,l),window.mlWorld.update();var c=new Event("model-displayed",{bubbles:!0});t.dispatchEvent(c),e(t._model)}).catch(function(t){r(t)})})}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){return t*(180/Math.PI)}},function(t,e,r){"use strict";r.d(e,"a",function(){return O});var n=r(221),i=(r(31),r(41)),o=r(112),a=r(113),s=r(114),u=r(115),c=r(116),l=r(117),d=r(223),f=r(118),b=r(119),m=r(120),h=r(121),v=r(122),g=r(123),p=r(42),_=r(43),y=r(44),w=r(45),A=r(46),O=function(t,e){var r=t._model;t._volume;if(e.src&&(t._volume||!t.scrollable?t.render():!0===t.scrollable&&(Object(w.b)(t),Object(w.a)(t))),e.extractable&&("false"!==e.extractable?(Object(_.a)(t),Object(p.a)(t)):(Object(_.b)(t),Object(p.b)(t))),e.scrollable&&("false"!==e.scrollable?(Object(y.a)(t),Object(w.a)(t)):(Object(y.b)(t),Object(w.b)(t))),r){if(e.color?r.color=e.color:""===e.color&&(r.color="#FFFFFF"),e["environment-lighting"]){var O=Object(n.a)(e["environment-lighting"]);O["color-intensity"]&&(r.colorIntensity=O["color-intensity"]),O["bloom-strength"]&&(r.bloomStrength=O["bloom-strength"])}e.raycast&&Object(i.a)(r,!("true"==e.raycast)),e.visibility&&Object(o.a)(t,!("hidden"===e.visibility)),e.trigger&&Object(a.a)(t,e.trigger),e["model-scale"]&&Object(s.a)(t,e["model-scale"]),e["model-position"]&&Object(u.a)(t,e["model-position"]),e.rotation&&Object(c.a)(t,e.rotation),e["prism-rotation"]&&Object(l.a)(t,e["prism-rotation"]),e["model-animation"]&&Object(d.a)(t,e["model-animation"],t.animationSpeed),e["model-animation-speed"]&&Object(d.b)(t,e["model-animation-speed"]),e.spin&&Object(f.a)(t,e.spin),e["scale-to"]&&Object(b.a)(t,e["scale-to"]),e["move-to"]&&Object(m.a)(t,e["move-to"]),e["move-by"]&&Object(h.a)(t,e["move-by"]),e["rotate-to-angles"]&&Object(v.a)(t,e["rotate-to-angles"]),e["rotate-by-angles"]&&Object(g.a)(t,e["rotate-by-angles"]),(e.breadth||e["z-offset"])&&Object(A.a)(t)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t._volume&&(t._volume.visible=e)}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t,e){document.getElementById(e)&&document.getElementById(e).addEventListener("click",function(){document.querySelectorAll("ml-model[trigger], ml-quad[trigger]").forEach(function(t){t.visibility="hidden"}),t.visibility="show"})}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t,e){if(e&&t._transform){var r=e.trim().replace(/[^\d.-]+/g," ").split(" ").map(parseFloat).filter(function(t){return!isNaN(t)});t._transform.setLocalScale(new Float32Array(r)),t.isInsideVolume()||console.warn("Content is clipping or is rendering outside of prism. "+t.id)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(12),i=function(t,e){if(e){var r=e.trim().replace(/  +/g," ").split(" ").map(n.a);t._transform.setLocalPosition(new Float32Array(r)),t.isInsideVolume()||console.warn("Content is clipping or is rendering outside of prism. "+t.id)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(67),i=r(222),o=function(t,e){if(e){var r=Object(i.a)(Object(n.a)(e));r&&t._transform&&t._transform.setLocalRotation(new Float32Array(r))}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(67),i=r(110),o=function(t,e){if(e){var r=Object(n.a)(e);if(r){var o=(new DOMMatrix).translate(t._volume.position.positionX,t._volume.position.positionY,t._volume.position.positionZ);o=o.rotateAxisAngle(0,0,1,Object(i.a)(r[2])).rotateAxisAngle(0,1,0,Object(i.a)(r[1])).rotateAxisAngle(1,0,0,Object(i.a)(r[0])),t._volume.transformVolumeRelativeToHostVolume(o)}}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(22),i=r(225),o=function(t,e){if(e){var r=Object(n.a)(e,!0);r&&(t._transform.spin(new Float32Array(r.axes),Object(i.a)(r.angle),r.duration,r.track),t._transform.addMoveCallback(r.track),t._volume.addEventListener("mltransformanimation",function(e){if(e.track===r.track){e.stopImmediatePropagation();var n=new CustomEvent("transform-animation-end",{detail:{track:e.track,type:e.type},bubbles:!0});t.dispatchEvent(n)}}))}}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(22),i=function(t,e){if(e){var r=Object(n.a)(e);r&&(t._transform.scaleTo(new Float32Array(r.axes),r.duration,r.track),t._transform.addMoveCallback(r.track),t._volume.addEventListener("mltransformanimation",function(e){if(e.track===r.track){e.stopImmediatePropagation();var n=new CustomEvent("transform-animation-end",{detail:{track:e.track,type:e.type},bubbles:!0});t.dispatchEvent(n)}}),t.isInsideVolume(t._transform.getLocalPosition(),r.axes)||console.warn("Content is clipping or is rendering outside of prism. "+t.id))}}},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(22),i=r(226),o=r(12),a=function(t,e){if(e){var r=Object(n.a)(e);if(r){var a;r.offset?a=Object(i.a)(t,r.offset):r.axes&&(a=r.axes.map(o.a)),t._transform.moveTo(new Float32Array(a),r.duration,r.track),t._transform.addMoveCallback(r.track),t._volume.addEventListener("mltransformanimation",function(e){if(e.track===r.track){e.stopImmediatePropagation();var n=new CustomEvent("transform-animation-end",{detail:{track:e.track,type:e.type},bubbles:!0});t.dispatchEvent(n)}}),t.isInsideVolume(a)||console.warn("Content is clipping or is rendering outside of prism. "+t.id)}}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(22),i=r(12),o=function(t,e){if(e){var r=Object(n.a)(e);if(r&&r.axes){var o=r.axes.map(i.a),a=t._transform.getLocalPosition(),s=o.map(function(t,e){return t+a[e]});t._transform.moveBy(new Float32Array(o),r.duration,r.track),t._transform.addMoveCallback(r.track),t._volume.addEventListener("mltransformanimation",function(e){if(e.track===r.track){e.stopImmediatePropagation();var n=new CustomEvent("transform-animation-end",{detail:{track:e.track,type:e.type},bubbles:!0});t.dispatchEvent(n)}}),t.isInsideVolume(s)||console.warn("Content is clipping or is rendering outside of prism. "+t.id)}else console.error("Invalid axis values used for animation attribute. "+t.id)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(22),i=function(t,e){if(e){var r=Object(n.a)(e);r&&(t._transform.rotateToAngles(new Float32Array(r.angles),r.duration,r.track),t._transform.addMoveCallback(r.track),t._volume.addEventListener("mltransformanimation",function(e){if(e.track===r.track){e.stopImmediatePropagation();var n=new CustomEvent("transform-animation-end",{detail:{track:e.track,type:e.type},bubbles:!0});t.dispatchEvent(n)}}))}}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(22),i=function(t,e){if(e){var r=Object(n.a)(e);r&&(t._transform.rotateByAngles(new Float32Array(r.angles),r.duration,r.track),t._transform.addMoveCallback(r.track),t._volume.addEventListener("mltransformanimation",function(e){if(e.track===r.track){e.stopImmediatePropagation();var n=new CustomEvent("transform-animation-end",{detail:{track:e.track,type:e.type},bubbles:!0});t.dispatchEvent(n)}}))}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(14),i=r(7),o=function(t){if(t._model){var e=Object(n.a)(t),r=e.width,o=e.height,a=e.breadth;if(!t.hasAttribute("fill")||""!==t.getAttribute("fill")&&"true"!==t.getAttribute("fill")){if(t.breadth)var s=Math.min(r/t._resource.width,o/t._resource.height,a/t._resource.depth);else{var s=Math.min(r/t._resource.width,o/t._resource.height),u=t._resource.depth*s;t._volume.setSize(r*i.f,o*i.f,u*i.f)}t._model.setLocalScale(new Float32Array([s,s,s]))}else t._model.setLocalScale(new Float32Array([r/t._resource.width,o/t._resource.height,a/t._resource.depth]))}t._model.setAnchorPosition(new Float32Array([t._resource.center.x,t._resource.center.y,t._resource.center.z]))}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(14),i=function(t){if(t._quad){var e=Object(n.a)(t),r=e.width,i=e.height;e.breadth;t._quad.setLocalScale(new Float32Array([r,i,0])),t._quad.setLocalPosition(new Float32Array([-r/2,-i/2,0]))}}},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(46),i=r(7),o=r(14),a=r(21),s=function(t){if(void 0===t._mutationObserver){t._mutationObserver=new MutationObserver(function(t){t.forEach(function(t){(u(t.target)||c(t.target))&&Object(n.a)(t.target)})});var e={attributeOldValue:!0,attributes:!0,attributeFilter:["style","class"]};t._mutationObserver.observe(t,e)}},u=function(t){var e=Object(o.a)(t),r=e.width,n=e.height;e.breadth;return Math.fround(r)!==Math.fround(t._volume.width/i.f)||Math.fround(n)!==Math.fround(t._volume.height/i.f)},c=function(t){var e=Object(a.a)(t),r=e.positionX,n=e.positionY;e.positionZ;return Math.fround(r)!==Math.fround(t._volume.position.positionX)||Math.fround(n)!==Math.fround(t._volume.position.positionY)}},function(t,e,r){"use strict";function n(){Object(i.a)(this)}r.d(e,"a",function(){return o}),r.d(e,"b",function(){return a});var i=r(46),o=function(t){t&&(t.resizeListener=n.bind(t),window.addEventListener("resize",t.resizeListener))},a=function(t){t&&window.removeEventListener("resize",t.resizeListener)}},function(t,e,r){"use strict";r.d(e,"a",function(){return w});var n=r(41),i=r(112),o=r(113),a=r(114),s=r(115),u=r(116),c=r(117),l=r(118),d=r(119),f=r(120),b=r(121),m=r(122),h=r(123),v=r(42),g=r(43),p=r(44),_=r(45),y=r(46),w=function(t,e){var r=t._quad;t._volume;if(e.src&&(t._volume||!t.scrollable?t.render():!0===t.scrollable&&(Object(_.b)(t),Object(_.a)(t))),e.extractable&&("false"!==e.extractable?(Object(g.a)(t),Object(v.a)(t)):(Object(g.b)(t),Object(v.b)(t))),e.scrollable&&("false"!==e.scrollable?(Object(p.a)(t),Object(_.a)(t)):(Object(p.b)(t),Object(_.b)(t))),r){if(e.color)r.color=e.color;else if(""===e.color){var w=new RegExp(/(\.png(\?|#|$))|^(data:image\/png;base64,*)/i);w.test(t.src)?r.color="rgba(255, 255, 255, 0.99)":r.color="#FFFFFF"}e.raycast&&Object(n.a)(r,!("true"==e.raycast)),e.visibility&&Object(i.a)(t,!("hidden"===e.visibility)),e.trigger&&Object(o.a)(t,e.trigger),e["quad-scale"]&&Object(a.a)(t,e["quad-scale"]),e.rotation&&Object(u.a)(t,e.rotation),e["prism-rotation"]&&Object(c.a)(t,e["prism-rotation"]),e.spin&&Object(l.a)(t,e.spin),e["scale-to"]&&Object(d.a)(t,e["scale-to"]),e["quad-position"]&&Object(s.a)(t,e["quad-position"]),e["move-to"]&&Object(f.a)(t,e["move-to"]),e["move-by"]&&Object(b.a)(t,e["move-by"]),e["rotate-to-angles"]&&Object(m.a)(t,e["rotate-to-angles"]),e["rotate-by-angles"]&&Object(h.a)(t,e["rotate-by-angles"]),(e.breadth||e["z-offset"])&&Object(y.a)(t)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){t.exports=r(214)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(215),i=r(216),o=r(227),a=r(231);r.d(e,"MlModel",function(){return i.a}),r.d(e,"MlQuad",function(){return o.a}),r.d(e,"MlLine",function(){return a.a}),r.d(e,"animate",function(){return n.a}),/*!
 * @license
 * Copyright (c) 2018 Magic Leap, Inc. All Rights Reserved.
 * You may use this file to develop and test websites that are compatible with
 * Magic Leap’s mixed reality technology platform (including Magic Leap’s mixed
 * reality hardware device(s) manufactured by or on behalf of Magic Leap and
 * Magic Leap’s operating systems), and distribute this file as incorporated
 * into those websites.  You may not modify this file, or use this file to
 * directly or indirectly develop websites that are incompatible Magic Leap’s
 * mixed reality technology platform.
 *
 * TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, MAGIC LEAP IS PROVIDING
 * THIS FILE ON AN “AS-IS” BASIS FOR USE AT YOUR OWN RISK. MAGIC LEAP DISCLAIMS
 * ALL WARRANTIES WITH RESPECT TO THIS FILE, WHETHER EXPRESS OR IMPLIED, OR
 * STATUTORY, INCLUDING, WITHOUT LIMITATION, ANY WARRANTIES OF NON-INFRINGEMENT
 * OF THIRD-PARTY RIGHTS, MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,
 * QUIET ENJOYMENT, NON-INTERFERENCE, SYSTEM INTEGRATION, OR ACCURACY.
 * MAGIC LEAP DOES NOT WARRANT THAT YOUR USE OF THIS FILE WILL BE UNINTERRUPTED
 * ERROR-FREE, VIRUS-FREE, OR SECURE.
 */
window.mlWorld?Object(n.a)():console.warn("Unable to render content: No mixed-reality browser detected.")},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function t(){window.mlWorld.update(),setTimeout(t,16)}},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.d(e,"a",function(){return A});var s=r(7),u=r(64),c=r(65),l=r(217),d=r(109),f=r(111),b=r(44),m=r(126),h=r(127),v=r(45),g=r(42),p=r(43),_=r(31),y=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),A=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),w(e,[{key:"attachedCallback",value:function(){var t=this;if(!window.mlWorld)return void this.dispatchEvent(new ErrorEvent("error",{error:new Error("Unable to render 3D content on this device."),message:"No mixed-reality browser detected.",bubbles:!0}));this.style.display="inline-flex",this.scrollable?(Object(b.a)(this),Object(v.a)(this)):Object(u.a)(this)?navigator.permissions.request({name:"ml-unbounded-prisms"}).then(function(e){"granted"==e.state?t.render():"denied"==e.state&&console.error("Permission to render unbounded volume has not been granted")}).catch(function(e){Object(c.a)(t,"Requesting ml-unbounded-prisms is not supported on this device")}):this.render(),this.extractable&&(Object(p.a)(this),Object(g.a)(this)),Object(m.a)(this),Object(h.a)(this)}},{key:"createdCallback",value:function(){var t=this;this.addEventListener("error",function(e){!t._model&&t.hasAttribute("alt-img")&&t.setAttribute("style","position: absolute; background-image: url("+t.getAttribute("alt-img")+");  background-repeat: no-repeat; background-size:100%;")},!0)}},{key:"attributeChangedCallback",value:function(t,e,r){Object(f.a)(this,n({},t,r))}},{key:"detachedCallback",value:function(){Object(_.a)(this),Object(b.b)(this),Object(h.b)(this)}},{key:"render",value:function(){var t=this;this.src&&this.doRendering().then(function(){t._volume.visible=!("hidden"===t.visibility)}).catch(function(e){t.dispatchEvent(new ErrorEvent("error",{error:e,message:e.message||"Problem rendering node",bubbles:!0})),console.error("Problem rendering: "+e)})}},{key:"doRendering",value:function(){return Object(l.a)(this)}},{key:"createNode",value:function(){return Object(d.a)(this)}},{key:"isInsideVolume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._transform.getLocalPosition(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._transform.getLocalScale(),r=Math.fround(this._volume.position.positionX-this._volume.width/2),n=Math.fround(this._volume.position.positionX+this._volume.width/2),i=Math.fround(this._volume.position.positionY-this._volume.height/2),o=Math.fround(this._volume.position.positionY+this._volume.height/2),a=Math.fround(this._volume.position.positionZ-this._volume.breadth/2),s=Math.fround(this._volume.position.positionZ+this._volume.breadth/2),u=y(t,3),c=u[0],l=u[1],d=u[2],f=this._model.getLocalScale(),b=y(f,3),m=b[0],h=b[1],v=b[2],g=y(e,3),p=g[0],_=g[1],w=g[2],A=Math.fround(this._volume.position.positionX+c-Math.fround(this._resource.width*m*p/2)),O=Math.fround(this._volume.position.positionX+c+Math.fround(this._resource.width*m*p/2)),j=Math.fround(this._volume.position.positionY+l-Math.fround(this._resource.height*h*_/2)),k=Math.fround(this._volume.position.positionY+l+Math.fround(this._resource.height*h*_/2)),E=Math.fround(this._volume.position.positionZ+d-Math.fround(this._resource.depth*v*w/2)),x=Math.fround(this._volume.position.positionZ+d+Math.fround(this._resource.depth*v*w/2));return r<=A&&O<=n&&i<=j&&k<=o&&a<=E&&x<=s}},{key:"async",get:function(){return this.hasAttribute("async")&&(""===this.getAttribute("async")||"true"===this.getAttribute("async"))},set:function(t){this.setAttribute("async",t.toString())}},{key:"unbounded",get:function(){return this.hasAttribute("unbounded")&&(""===this.getAttribute("unbounded")||"true"===this.getAttribute("unbounded"))},set:function(t){this.setAttribute("unbounded",t.toString())}},{key:"extractable",get:function(){return this.hasAttribute("extractable")&&(""===this.getAttribute("extractable")||"true"===this.getAttribute("extractable"))},set:function(t){this.setAttribute("extractable",t.toString())}},{key:"scrollable",get:function(){return this.hasAttribute("scrollable")&&(""===this.getAttribute("scrollable")||"true"===this.getAttribute("scrollable"))},set:function(t){this.setAttribute("scrollable",t.toString())}},{key:"scaleScroll",get:function(){return this.hasAttribute("scale-scroll")&&(""===this.getAttribute("scale-scroll")||"true"===this.getAttribute("scale-scroll"))},set:function(t){this.setAttribute("scale-scroll",t.toString())}},{key:"breadth",get:function(){return parseFloat(this.getAttribute("breadth"))},set:function(t){isNaN(parseFloat(t))||this.setAttribute("breadth",parseFloat(t))}},{key:"materials",get:function(){return this.getAttribute("materials")},set:function(t){this.setAttribute("materials",t)}},{key:"color",get:function(){return this.getAttribute("color")},set:function(t){this.setAttribute("color",t)}},{key:"visibility",get:function(){return this.getAttribute("visibility")},set:function(t){this.setAttribute("visibility",t)}},{key:"raycast",get:function(){return this.getAttribute("raycast")},set:function(t){this.setAttribute("raycast",t.toString())}},{key:"rotation",get:function(){return this.getAttribute("rotation")},set:function(t){this.setAttribute("rotation",t)}},{key:"rotateToAngles",get:function(){return this.getAttribute("rotate-to-angles")},set:function(t){this.setAttribute("rotate-to-angles",t)}},{key:"rotateByAngles",get:function(){return this.getAttribute("rotate-by-angles")},set:function(t){this.setAttribute("rotate-by-angles",t)}},{key:"prismRotation",get:function(){return this.getAttribute("prism-rotation")},set:function(t){this.setAttribute("prism-rotation",t)}},{key:"animation",get:function(){return this.getAttribute("model-animation")},set:function(t){this.setAttribute("model-animation",t)}},{key:"animationSpeed",get:function(){return parseFloat(this.getAttribute("model-animation-speed"))},set:function(t){isNaN(parseFloat(t))||this.setAttribute("model-animation-speed",parseFloat(t))}},{key:"spin",get:function(){return this.getAttribute("spin")},set:function(t){this.setAttribute("spin",t)}},{key:"modelPosition",get:function(){return this.getAttribute("model-position")},set:function(t){this.setAttribute("model-position",t)}},{key:"modelScale",get:function(){return this.getAttribute("model-scale")},set:function(t){this.setAttribute("model-scale",t)}},{key:"scaleTo",get:function(){return this.getAttribute("scale-to")},set:function(t){this.setAttribute("scale-to",t)}},{key:"extractedScale",get:function(){return parseFloat(this.getAttribute("extracted-scale"))},set:function(t){isNaN(parseFloat(t))||this.setAttribute("extracted-scale",parseFloat(t))}},{key:"extractedLink",get:function(){return this.getAttribute("extracted-link")},set:function(t){this.setAttribute("extracted-link",t)}},{key:"moveTo",get:function(){return this.getAttribute("move-to")},set:function(t){this.setAttribute("move-to",t)}},{key:"moveBy",get:function(){return this.getAttribute("move-by")},set:function(t){this.setAttribute("move-by",t)}},{key:"src",get:function(){return this.getAttribute("src")},set:function(t){this.setAttribute("src",t)}},{key:"zOffset",get:function(){return this.hasAttribute("z-offset")&&!isNaN(parseFloat(this.getAttribute("z-offset")))?parseFloat(this.getAttribute("z-offset")):s.b},set:function(t){isNaN(parseFloat(t))||this.setAttribute("z-offset",parseFloat(t))}},{key:"environmentLighting",get:function(){return this.getAttribute("environment-lighting")},set:function(t){this.setAttribute("environment-lighting",t)}}]),e}(HTMLElement);document.registerElement("ml-model",A)},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r(218),i=r(66),o=r(219),a=r(108),s=r(109),u=function(t){return new Promise(function(e,r){if(!t._volume)try{t._volume=Object(a.a)(t)}catch(t){return r(t)}if(t._volume.visible=!1,t.hasAttribute("materials"))var u=Object(n.a)(t.getAttribute("materials"));if(u)Object(i.a)(t._volume,u.textures).then(function(n){t._textures=n,Object(o.a)(t._volume,u.kmat).then(function(n){t._kmat=n;var i=new Event("mesh-readytoload",{bubbles:!0});t.dispatchEvent(i),t.async?e(t._volume):Object(s.a)(t).then(function(){e(t._volume)}).catch(function(t){r(new Error("Problem creating model: "+t))})}).catch(function(t){r(new Error("Problem creating Kmat: "+t))})}).catch(function(t){r(new Error("Problem creating texture: "+t))});else{var c=new Event("mesh-readytoload",{bubbles:!0});t.dispatchEvent(c),t.async?e(t._volume):Object(s.a)(t).then(function(){e(t._volume)}).catch(function(t){r(new Error("Problem creating model: "+t))})}})}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e={};if(t.split(/;/).forEach(function(t){var r=t.split(":");2===r.length&&("textures"===r[0].trim()?e[r[0].trim()]=r[1].trim().replace(/\r?\n|\r|\t|,/gm," ").replace(/  +/g," ").split(/ /).filter(function(t){return t.trim()}):e[r[0].trim()]=r[1].trim())}),e.kmat&&e.textures&&e.textures.length>0)return e;console.error("Invalid values used for materials attribute. No materials loaded.")}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t,e){return fetch(e).then(function(r){return r.ok?r.arrayBuffer().then(function(r){return t.createKMat(r,e)}):Promise.reject(new Error("Problem creating KMat file: "+e))})}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t,e){if(!new RegExp(/\.(fbx|glb)(\?|#|$)/i).test(e)){var r=new Error("Invalid model file extension: "+e+". Only FBX and GLB are supported at the moment.");return Promise.reject(r)}return fetch(e).then(function(r){return r.ok?r.arrayBuffer().then(function(r){var n=t._volume,i="";if(e.match(/\.glb(\?|#|$)/i)&&"glTF"===String.fromCharCode.apply(null,new Uint8Array(r,0,4)))i="Pbr";else{if(!e.match(/\.fbx(\?|#|$)/i)||"Kaydara FBX Binary  \0\0"!==String.fromCharCode.apply(null,new Uint8Array(r,0,23))){var o=new Error("Invalid model file: "+e+". Only FBX and GLB are supported at the moment.");return Promise.reject(o)}i="UnlitTextured"}var a=n.createModelResource(r);return a?{resource:a,shader:i}:Promise.reject(new Error("Load resource failed: "+e))}):Promise.reject(new Error("Load resource failed: "+e))})}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e={};if(t.split(/;/).forEach(function(t){var r=t.split(":");2===r.length&&(e[r[0].trim()]=r[1].trim())}),e["color-intensity"]||e["bloom-strength"])return e;console.error("Invalid values used for environment lighting attribute. Make sure to specify color-intensity or bloom-strength.")}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e=Math.cos(t[0]/2),r=Math.cos(t[1]/2),n=Math.cos(t[2]/2),i=Math.sin(t[0]/2),o=Math.sin(t[1]/2),a=Math.sin(t[2]/2);return[i*r*n-e*o*a,e*o*n+i*r*a,e*r*a-i*o*n,e*r*n+i*o*a]}},function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return o});var n=r(224),i=function(t,e,r){if(e){var i=Object(n.a)(e);i&&t._model&&(t._model.playAnimation(i.name,i.paused,i.iterations),r&&(t._model.animationPlaybackSpeed=Number(r)),t._volume.addEventListener("mlanimation",function(e){if("animationEnd"===e.type){var r=new CustomEvent("model-animation-end",{detail:{animationName:e.animationName},bubbles:!0});t.dispatchEvent(r)}}))}},o=function(t,e){!isNaN(parseInt(e))&&t._model&&(t._model.animationPlaybackSpeed=Number(e))}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e={},r=["name","paused","iterations"];return t.split(/;|,/).forEach(function(t,n){var i=t.split(":");2===i.length?e[i[0].trim()]=i[1].trim():1===i.length&&(e[r[n]]=i[0].trim())}),e.name?(e.paused?e.paused="false"!==e.paused&&"no"!==e.paused&&"0"!==e.paused&&""!==e.paused:(e.paused=!1,console.warn("Invalid paused value for animation attribute. Default value of false used.")),isNaN(parseInt(e.iterations))?(e.iterations=-1,console.warn("Invalid iterations value for model-animation attribute. Default value of -1 used.")):e.iterations=parseInt(e.iterations),e):void console.error("No animation name found in animation attribute.")}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){return t*(Math.PI/180)}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(21),i=function(t,e){var r=o(e);return[isNaN(parseFloat(r[0]))?t._transform.getLocalPosition()[0]:Object(n.b)(r[0])-t._volume.position.positionX,isNaN(parseFloat(r[1]))?t._transform.getLocalPosition()[1]:Object(n.c)(r[1])-t._volume.position.positionY,isNaN(parseFloat(r[2]))?t._transform.getLocalPosition()[2]:Object(n.d)(r[2])-t._volume.position.positionZ]},o=function(t){var e=void 0,r=void 0,n=void 0;switch(t[0]){case"left":e=0;break;case"middle":case"center":e=window.outerWidth/2;break;case"right":e=window.outerWidth;break;default:e=isNaN(parseFloat(t[0]))?void 0:parseFloat(t[0])}switch(t[1]){case"top":r=0;break;case"middle":case"center":r=window.outerHeight/2;break;case"bottom":r=window.outerHeight;break;default:r=isNaN(parseFloat(t[1]))?void 0:parseFloat(t[1])}return n=isNaN(parseFloat(t[2]))?void 0:parseFloat(t[2]),[e,r,n]}},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.d(e,"a",function(){return w});var s=r(7),u=r(64),c=r(65),l=r(228),d=r(128),f=r(44),b=r(45),m=r(126),h=r(127),v=r(42),g=r(43),p=r(31),_=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),w=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),y(e,[{key:"attachedCallback",value:function(){var t=this;if(!window.mlWorld)return void this.dispatchEvent(new ErrorEvent("error",{error:new Error("Unable to render 3D content on this device."),message:"No mixed-reality browser detected.",bubbles:!0}));this.style.display="inline-flex",this.scrollable?(Object(f.a)(this),Object(b.a)(this)):Object(u.a)(this)?navigator.permissions.request({name:"ml-unbounded-prisms"}).then(function(e){"granted"==e.state?t.render():"denied"==e.state&&console.error("Permission to render unbounded volume has not been granted")}).catch(function(e){Object(c.a)(t,"Requesting ml-unbounded-prisms is not supported on this device")}):this.render(),this.extractable&&(Object(g.a)(this),Object(v.a)(this)),Object(m.a)(this),Object(h.a)(this)}},{key:"createdCallback",value:function(){var t=this;this.addEventListener("error",function(e){!t._quad&&t.hasAttribute("alt-img")&&t.setAttribute("style","position: absolute;background-image: url("+t.getAttribute("alt-img")+");  background-repeat: no-repeat; background-size:100%;")},!0)}},{key:"attributeChangedCallback",value:function(t,e,r){Object(d.a)(this,n({},t,r))}},{key:"detachedCallback",value:function(){Object(p.a)(this),Object(f.b)(this),Object(h.b)(this)}},{key:"render",value:function(){var t=this;this.src&&this.doRendering().then(function(){t._volume.visible=!("hidden"===t.visibility)}).catch(function(e){t.dispatchEvent(new ErrorEvent("error",{error:e,message:e.message||"Problem rendering node",bubbles:!0})),console.error("Problem rendering: "+e)})}},{key:"doRendering",value:function(){return Object(l.a)(this)}},{key:"createNode",value:function(){return createQuad(this)}},{key:"isInsideVolume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._transform.getLocalPosition(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._transform.getLocalScale(),r=Math.fround(this._volume.position.positionX-this._volume.width/2),n=Math.fround(this._volume.position.positionX+this._volume.width/2),i=Math.fround(this._volume.position.positionY-this._volume.height/2),o=Math.fround(this._volume.position.positionY+this._volume.height/2),a=_(t,3),s=a[0],u=a[1],c=(a[2],this._quad.getLocalScale()),l=_(c,3),d=l[0],f=l[1],b=(l[2],_(e,3)),m=b[0],h=b[1],v=(b[2],Math.fround(this._volume.position.positionX+s-Math.fround(d*m/2))),g=Math.fround(this._volume.position.positionX+s+Math.fround(d*m/2)),p=Math.fround(this._volume.position.positionY+u-Math.fround(f*h/2)),y=Math.fround(this._volume.position.positionY+u+Math.fround(f*h/2));return r<=v&&g<=n&&i<=p&&y<=o}},{key:"async",get:function(){return this.hasAttribute("async")&&(""===this.getAttribute("async")||"true"===this.getAttribute("async"))},set:function(t){this.setAttribute("async",t.toString())}},{key:"unbounded",get:function(){return this.hasAttribute("unbounded")&&(""===this.getAttribute("unbounded")||"true"===this.getAttribute("unbounded"))},set:function(t){this.setAttribute("unbounded",t.toString())}},{key:"extractable",get:function(){return this.hasAttribute("extractable")&&(""===this.getAttribute("extractable")||"true"===this.getAttribute("extractable"))},set:function(t){this.setAttribute("extractable",t.toString())}},{key:"scrollable",get:function(){return this.hasAttribute("scrollable")&&(""===this.getAttribute("scrollable")||"true"===this.getAttribute("scrollable"))},set:function(t){this.setAttribute("scrollable",t.toString())}},{key:"scaleScroll",get:function(){return this.hasAttribute("scale-scroll")&&(""===this.getAttribute("scale-scroll")||"true"===this.getAttribute("scale-scroll"))},set:function(t){this.setAttribute("scale-scroll",t.toString())}},{key:"breadth",get:function(){return parseFloat(this.getAttribute("breadth"))},set:function(t){isNaN(parseFloat(t))||this.setAttribute("breadth",parseFloat(t))}},{key:"color",get:function(){return this.getAttribute("color")},set:function(t){this.setAttribute("color",t)}},{key:"visibility",get:function(){return this.getAttribute("visibility")},set:function(t){this.setAttribute("visibility",t)}},{key:"rotation",get:function(){return this.getAttribute("rotation")},set:function(t){this.setAttribute("rotation",t)}},{key:"rotateToAngles",get:function(){return this.getAttribute("rotate-to-angles")},set:function(t){this.setAttribute("rotate-to-angles",t)}},{key:"rotateByAngles",get:function(){return this.getAttribute("rotate-by-angles")},set:function(t){this.setAttribute("rotate-by-angles",t)}},{key:"prismRotation",get:function(){return this.getAttribute("prism-rotation")},set:function(t){this.setAttribute("prism-rotation",t)}},{key:"spin",get:function(){return this.getAttribute("spin")},set:function(t){this.setAttribute("spin",t)}},{key:"quadPosition",get:function(){return this.getAttribute("quad-position")},set:function(t){this.setAttribute("quad-position",t)}},{key:"quadScale",get:function(){return this.getAttribute("quad-scale")},set:function(t){this.setAttribute("quad-scale",t)}},{key:"raycast",get:function(){return this.getAttribute("raycast")},set:function(t){this.setAttribute("raycast",t.toString())}},{key:"scaleTo",get:function(){return this.getAttribute("scale-to")},set:function(t){this.setAttribute("scale-to",t)}},{key:"extractedScale",get:function(){return parseFloat(this.getAttribute("extracted-scale"))},set:function(t){isNaN(parseFloat(t))||this.setAttribute("extracted-scale",parseFloat(t))}},{key:"moveTo",get:function(){return this.getAttribute("move-to")},set:function(t){this.setAttribute("move-to",t)}},{key:"moveBy",get:function(){return this.getAttribute("move-by")},set:function(t){this.setAttribute("move-by",t)}},{key:"src",get:function(){return this.getAttribute("src")},set:function(t){this.setAttribute("src",t)}},{key:"zOffset",get:function(){return this.hasAttribute("z-offset")&&!isNaN(parseFloat(this.getAttribute("z-offset")))?parseFloat(this.getAttribute("z-offset")):s.b},set:function(t){isNaN(parseFloat(t))||this.setAttribute("z-offset",parseFloat(t))}}]),e}(HTMLElement);document.registerElement("ml-quad",w)},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(229),i=r(108),o=r(230),a=function(t){return new Promise(function(e,r){if(!t._volume)try{t._volume=Object(i.a)(t)}catch(t){return r(t)}t._volume.visible=!1,Object(n.a)(t._volume,t.getAttribute("src")).then(function(n){t._texture=n;var i=new Event("quad-readytoload",{bubbles:!0});t.dispatchEvent(i),t.async?e(t._volume):Object(o.a)(t).then(function(){e(t._volume)}).catch(function(t){r(new Error("Problem creating quad: "+t))})}).catch(function(t){r(new Error("Problem creating texture: "+t))})})}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t,e){if(!new RegExp(/(\.(jpg|jpeg|png)(\?|#|$))|^(data:image\/(jpg|jpeg|png);base64,*)/i).test(e)){var r=new Error("Invalid quad image file type: "+e+". Only JPG and PNG are supported at the moment for quads.");return Promise.reject(r)}return new Promise(function(r,n){var i=new Image;i.onload=function(){var o=t.createTexture(i);o?r(o):n(new Error("Problem loading quad texture: "+e+"."))},i.onerror=function(){n(new Error("Problem loading quad texture: "+e+"."))},i.src=e})}},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r(30),i=r(68),o=r(128),a=r(41),s=r(125),u=function(t){return new Promise(function(e,r){t._quad||(t._quad=t._volume.createQuad(),"true"!==t.raycast&&Object(a.a)(t._quad),t._quad.backfaceVisibility=!0),t._quad.setRenderResource(t._texture),t._texture&&(t._quad.textures=t._texture),new RegExp(/(\.png(\?|#|$))|^(data:image\/png;base64,*)/i).test(t.src)&&(t._quad.color="rgba(255, 255, 255, 0.99)");var u=new Event("resource-loaded",{bubbles:!0});t.dispatchEvent(u),t._transform||(t._transform=t._volume.createTransform(),t._transform.addChild(t._quad),t._volume.addChild(t._transform)),Object(i.a)(t),Object(n.a)(t),Object(s.a)(t);var c={visibility:t.getAttribute("visibility"),trigger:t.getAttribute("trigger"),color:t.getAttribute("color"),"quad-scale":t.getAttribute("quad-scale"),"quad-position":t.getAttribute("quad-position"),rotation:t.getAttribute("rotation"),"rotate-to-angles":t.getAttribute("rotate-to-angles"),"rotate-by-angles":t.getAttribute("rotate-by-angles"),spin:t.getAttribute("spin"),"scale-to":t.getAttribute("scale-to"),"move-to":t.getAttribute("move-to"),"move-by":t.getAttribute("move-by"),"prism-rotation":t.getAttribute("prism-rotation")};Object(o.a)(t,c),window.mlWorld.update();var u=new Event("quad-displayed",{bubbles:!0});t.dispatchEvent(u),e(t._quad)})}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.d(e,"a",function(){return l});var a=r(12),s=r(30),u=r(232),c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=function(t){function e(){return n(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),c(e,[{key:"createdCallback",value:function(){var t=Object(a.a)(this.clientWidth),e=Object(a.a)(this.clientHeight),r=isNaN(this.breadth)?t:Object(a.a)(this.breadth),n=window.mlWorld.createVolume(t,e,r);this._volume=n;var i=[],o=!0,c=!1,l=void 0;try{for(var d,f=Object(u.a)(this.getAttribute("points"))[Symbol.iterator]();!(o=(d=f.next()).done);o=!0){var b=d.value;i.push(new DOMPoint(b[0],b[1],b[2],b[3]))}}catch(t){c=!0,l=t}finally{try{!o&&f.return&&f.return()}finally{if(c)throw l}}var m=n.createLine();m.setPoints(i),m.color=this.getAttribute("color")?this.getAttribute("color"):"#FFFFFF",m.name="firstline";var h=n.createTransform();h.setLocalScale(new Float32Array([t,e,r])),h.setLocalPosition(new Float32Array([0,0,0])),h.addChild(m),n.addChild(h),Object(s.a)(this)}}]),e}(HTMLElement);document.registerElement("ml-line",l)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){var e=t.split(", "),r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,c=u.trim().replace(/  +/g," ").split(" ").map(parseFloat).filter(function(t){return!isNaN(t)});4===c.length&&r.push(c)}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}}]);